import os.

main =>
    gen(".").

gen(Dir) =>
    Files = listdir(Dir),
	foreach (File in Files, File != ".", File != "..")
	    if directory(File) then
		    gen(Dir++"/"++File)
		elseif append(MainFileStr,".pi",File) then
		    printf("echo solving %s/%s\n",Dir,File),
			printf("/cygdrive/c/BProlog/Emulator/picat.exe %s/%s\n",Dir,File)
		end
	end.

		
